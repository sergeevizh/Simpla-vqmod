<?phpclass vqmodProtection extends vqmodInstaller {		public function __construct(){				if($this->request->post('rewrite', 'boolean')){			$content = "Allow From All\n";			$content .= "AddType application/octet-stream csv\n";			$content .= "AuthName 'Simpla vqmod installer {$this->version}'\n";			$content .= "AuthType Basic\n";			$content .= "AuthUserFile " . ROOT_DIR . SIMPLA_ADMIN_DIR . "/.passwd\n";			$content .= "require valid-user\n";									if(!file_put_contents(INSTALLER_DIR . '.htaccess', $content))				die('Can\'t write vqmod protection');						$action = $this->request->post('action');			header('Location: '.$action);			exit;		}			}			public function fetch(){				return '<form method="post">					<input type="hidden" name="action" value="'.$this->request->get('action', 'string').'">						<p>Здравствуйте!</p>			<p>Для продолжения необходимо авторизоватся<br>			<small>(примечание: учетная запись должна иметь доступ к настрокам сайта)</small></p>						<p><input type="checkbox" name="rewrite" value="1"> У меня есть доступ</p>						<input type="submit" value="Продолжить">			<input type="button" onclick="window.location=\''.$this->config->root_url.'\'" value="Отмена">						</form>		</form>';			}		}